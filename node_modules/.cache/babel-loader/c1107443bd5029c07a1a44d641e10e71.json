{"ast":null,"code":"import _toConsumableArray from \"/Users/adrianamorales/Development/week6/react-router-params-exercise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/adrianamorales/Development/week6/react-router-params-exercise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/adrianamorales/Development/week6/react-router-params-exercise/src/pages/UsersPage.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UsersPage() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      totalPages = _useState4[0],\n      setTotalPages = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      page = _useState6[0],\n      setPage = _useState6[1];\n\n  useEffect(function () {\n    var url = \"https://reqres.in/api/users?page=\".concat(page);\n    fetch(url).then(function (res) {\n      return res.json();\n    }).then(function (dataFromApi) {\n      setUsers(function (prevUsers) {\n        return [].concat(_toConsumableArray(prevUsers), _toConsumableArray(dataFromApi.data));\n      });\n      setTotalPages(dataFromApi.total_pages);\n    });\n  }, [page]);\n\n  function renderUsers() {\n    var _this = this;\n\n    return users.map(function (user) {\n      var first_name = user.first_name,\n          last_name = user.last_name,\n          id = user.id;\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/users/\".concat(id),\n          children: [first_name, \" \", last_name, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, _this)\n      }, id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, _this);\n    });\n  }\n\n  function handleLoadMore() {\n    if (page < totalPages) {\n      setPage(page + 1);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \" Here we fetch users \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: renderUsers()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), page < totalPages && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLoadMore,\n      children: \"Load more \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UsersPage, \"7bq103geF7F2vXQeIb8+fOKcAdA=\");\n\n_c = UsersPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersPage\");","map":{"version":3,"sources":["/Users/adrianamorales/Development/week6/react-router-params-exercise/src/pages/UsersPage.js"],"names":["useEffect","useState","Link","UsersPage","users","setUsers","totalPages","setTotalPages","page","setPage","url","fetch","then","res","json","dataFromApi","prevUsers","data","total_pages","renderUsers","map","user","first_name","last_name","id","handleLoadMore"],"mappings":";;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAClC,kBAA0BF,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOG,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAoCJ,QAAQ,EAA5C;AAAA;AAAA,MAAOK,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAAwBN,QAAQ,CAAC,CAAD,CAAhC;AAAA;AAAA,MAAOO,IAAP;AAAA,MAAaC,OAAb;;AAEAT,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMU,GAAG,8CAAuCF,IAAvC,CAAT;AAEAG,IAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACQ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,KADR,EAEGF,IAFH,CAEQ,UAACG,WAAD,EAAiB;AACrBV,MAAAA,QAAQ,CAAC,UAACW,SAAD,EAAe;AACtB,4CAAWA,SAAX,sBAAyBD,WAAW,CAACE,IAArC;AACD,OAFO,CAAR;AAGAV,MAAAA,aAAa,CAACQ,WAAW,CAACG,WAAb,CAAb;AACD,KAPH;AAQD,GAXQ,EAWN,CAACV,IAAD,CAXM,CAAT;;AAaA,WAASW,WAAT,GAAuB;AAAA;;AACrB,WAAOf,KAAK,CAACgB,GAAN,CAAU,UAACC,IAAD,EAAU;AACzB,UAAQC,UAAR,GAAsCD,IAAtC,CAAQC,UAAR;AAAA,UAAoBC,SAApB,GAAsCF,IAAtC,CAAoBE,SAApB;AAAA,UAA+BC,EAA/B,GAAsCH,IAAtC,CAA+BG,EAA/B;AAEA,0BACE;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,EAAE,mBAAYA,EAAZ,CAAR;AAAA,qBACGF,UADH,OACgBC,SADhB,EAC2B,GAD3B;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,SAASC,EAAT;AAAA;AAAA;AAAA;AAAA,eADF;AAOD,KAVM,CAAP;AAWD;;AAED,WAASC,cAAT,GAA0B;AACxB,QAAIjB,IAAI,GAAGF,UAAX,EAAuB;AACrBG,MAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACD;AACF;;AAED,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,gBAAKW,WAAW;AAAhB;AAAA;AAAA;AAAA;AAAA,YAFF,EAGGX,IAAI,GAAGF,UAAP,iBACC;AAAQ,MAAA,OAAO,EAAEmB,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD;;GA/CuBtB,S;;KAAAA,S","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function UsersPage() {\n  const [users, setUsers] = useState([]);\n  const [totalPages, setTotalPages] = useState();\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    const url = `https://reqres.in/api/users?page=${page}`;\n\n    fetch(url)\n      .then((res) => res.json())\n      .then((dataFromApi) => {\n        setUsers((prevUsers) => {\n          return [...prevUsers, ...dataFromApi.data];\n        });\n        setTotalPages(dataFromApi.total_pages);\n      });\n  }, [page]);\n\n  function renderUsers() {\n    return users.map((user) => {\n      const { first_name, last_name, id } = user;\n\n      return (\n        <li key={id}>\n          <Link to={`/users/${id}`}>\n            {first_name} {last_name}{\" \"}\n          </Link>\n        </li>\n      );\n    });\n  }\n\n  function handleLoadMore() {\n    if (page < totalPages) {\n      setPage(page + 1);\n    }\n  }\n\n  return (\n    <div>\n      <h2> Here we fetch users </h2>\n      <ul>{renderUsers()}</ul>\n      {page < totalPages && (\n        <button onClick={handleLoadMore}>Load more </button>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}